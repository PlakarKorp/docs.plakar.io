<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=description content="Documentation for plakar, a tool to perform snapshot backups"><meta name=author content="Gilles CHEHADE"><link rel=icon href=/images/favicon.png type=image/png><title>Concepts - docs.plakar.io</title><link href=/css/nucleus.css?1727860671 rel=stylesheet><link href=/css/fontawesome-all.min.css?1727860671 rel=stylesheet><link href=/css/hybrid.css?1727860671 rel=stylesheet><link href=/css/featherlight.min.css?1727860671 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1727860671 rel=stylesheet><link href=/css/auto-complete.css?1727860671 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1727860671 rel=stylesheet><link href=/css/theme.css?1727860671 rel=stylesheet><link href=/css/tabs.css?1727860671 rel=stylesheet><link href=/css/hugo-theme.css?1727860671 rel=stylesheet><link href=/css/theme-blue.css?1727860671 rel=stylesheet><link href=/css/plakar.css?1727860671 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1727860671></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><link href=/css/ribbons.css rel=stylesheet type=text/css></head><body data-url=/en/concepts/><div class="ribbon right blue"><a href=https://github.com/poolpOrg/plakar>Fork me on GitHub</a></div><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><a id=logo href=/><img src=/images/gopher.png></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1727860671></script>
<script type=text/javascript src=/js/auto-complete.js?1727860671></script>
<script type=text/javascript>var baseurl="https://docs.plakar.io//en"</script><script type=text/javascript src=/js/search.js?1727860671></script></div><section id=homelinks><ul><li><a class=padding href=/><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/en/quickstart/ title=Quickstart class=dd-item><a href=/en/quickstart/><b>1. </b>Quickstart
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/concepts/ title=Concepts class="dd-item
active"><a href=/en/concepts/><b>2. </b>Concepts
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/ title=Commands class=dd-item><a href=/en/commands/><b>3. </b>Commands
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/en/commands/cat/ title=cat class=dd-item><a href=/en/commands/cat/>cat
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/check/ title=check class=dd-item><a href=/en/commands/check/>check
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/checksum/ title=checksum class=dd-item><a href=/en/commands/checksum/>checksum
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/cleanup/ title=cleanup class=dd-item><a href=/en/commands/cleanup/>cleanup
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/clone/ title=clone class=dd-item><a href=/en/commands/clone/>clone
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/create/ title=create class=dd-item><a href=/en/commands/create/>create
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/diff/ title=diff class=dd-item><a href=/en/commands/diff/>diff
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/exec/ title=exec class=dd-item><a href=/en/commands/exec/>exec
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/find/ title=find class=dd-item><a href=/en/commands/find/>find
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/fork/ title=fork class=dd-item><a href=/en/commands/fork/>fork
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/gzcat/ title=gzcat class=dd-item><a href=/en/commands/gzcat/>gzcat
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/info/ title=info class=dd-item><a href=/en/commands/info/>info
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/keep/ title=keep class=dd-item><a href=/en/commands/keep/>keep
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/ls/ title=ls class=dd-item><a href=/en/commands/ls/>ls
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/mount/ title=mount class=dd-item><a href=/en/commands/mount/>mount
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/pull/ title=pull class=dd-item><a href=/en/commands/pull/>pull
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/push/ title=push class=dd-item><a href=/en/commands/push/>push
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/rm/ title=rm class=dd-item><a href=/en/commands/rm/>rm
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/shell/ title=shell class=dd-item><a href=/en/commands/shell/>shell
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/stdio/ title=stdio class=dd-item><a href=/en/commands/stdio/>stdio
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/sync/ title=sync class=dd-item><a href=/en/commands/sync/>sync
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/tarball/ title=tarball class=dd-item><a href=/en/commands/tarball/>tarball
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/ui/ title=ui class=dd-item><a href=/en/commands/ui/>ui
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/en/community/ title=Community class=dd-item><a href=/en/community/><b>4. </b>Community
<i class="fas fa-check read-icon"></i></a></li></ul><section id=prefooter><hr><ul><li><a class=padding><i class="fas fa-language fa-fw"></i><div class=select-style><select id=select-language onchange="location=this.value"><option id=en value=https://docs.plakar.io/en/concepts/ selected>English</option></select><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="255" height="255" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255"><g><g id="arrow-drop-down"><polygon points="0,63.75 127.5,191.25 255,63.75"/></g></g></svg></div></a></li><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i> Clear History</a></li></ul></section><section id=footer><div class="notices warning"><p><strong><code>plakar</code> is still at an early development stage, use only for testing purposes !</strong></p></div><a class=github-button href=https://github.com/poolpOrg/plakar/archive/master.zip data-icon=octicon-cloud-download aria-label="Download poolpOrg/plakar on GitHub">Download</a>
<a class=github-button href=https://github.com/poolpOrg/plakar data-icon=octicon-star data-show-count=true aria-label="Star poolpOrg/plakar on GitHub">Star</a>
<a class=github-button href=https://github.com/poolpOrg/plakar/fork data-icon=octicon-repo-forked data-show-count=true aria-label="Fork poolpOrg/plakar on GitHub">Fork</a><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p><script async defer src=https://buttons.github.io/buttons.js></script></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/en/></a> > Concepts</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#concepts>Concepts</a><ul><li><a href=#repositories>Repositories</a></li><li><a href=#snapshots>Snapshots</a></li><li><a href=#to-be-continued>To be continued</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Concepts</h1><h2 id=concepts>Concepts</h2><p>This page documents in a very simplified way the concepts used by plakar.</p><h3 id=repositories>Repositories</h3><p>At the core of <code>plakar</code> are repositories.</p><p>A repository is a storage unit within which backups are stored.
You can have one or many different repositories,
some encrypted and others not,
each backed by your local filesystem,
a database or even a remote server.</p><p>They should be considered as locations,
rather than directories:
you point the utility there so it can store snapshots or retrieve data from snapshots.</p><p>The following command will for example create a repository in <code>/tmp/plakar</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar on /tmp/plakar create -no-encryption
</span></span><span style=display:flex><span>$
</span></span></code></pre></div><p>While the following command will list the snapshots that are part of that repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar on /tmp/foobar ls
</span></span><span style=display:flex><span>$
</span></span></code></pre></div><p>None here as the repository was just created and is empty.</p><h3 id=snapshots>Snapshots</h3><p>Repositories are useless without backups.</p><p>The <code>plakar</code> utility creates backups from directories.
It scans their content and builds an internal representation of what&rsquo;s necessary to rebuild an exact copy,
both of the filesystem structure and files,
then records that representation as a versioned snapshot in a repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar on /tmp/foobar push /bin            
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar ls
</span></span><span style=display:flex><span>2022-04-08T21:38:50Z  21a403b1-b022-40dd-95ad-5b78a90360dd     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$
</span></span></code></pre></div><p>Snapshots are space efficient as they may contain the same files as other snapshots without having to store their own copies,
creating multiple snapshots of the same directory will consume roughly the size a single copy would consume with a little overhead due to snapshot-specific metadata:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar on /tmp/foobar push /bin
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar push /bin
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar push /bin
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar push /bin
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar ls
</span></span><span style=display:flex><span>2022-04-08T21:38:50Z  21a403b1-b022-40dd-95ad-5b78a90360dd     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:51Z  976ed175-206a-418d-b960-7d0736d41b46     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:51Z  8271734e-882c-47b4-812a-5bef3455281c     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  273c9764-eae3-4e4f-8bcd-39538b684b49     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  70e1de7a-e410-4ad4-b441-f4f40977232b     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$ du -sh /tmp/foobar
</span></span><span style=display:flex><span>4.0M    /tmp/foobar
</span></span><span style=display:flex><span>$
</span></span></code></pre></div><p>In some situations,
such as above,
the space consumed will even be smaller than that of a single snapshot as the snapshot may contain duplicate informations itself,
or may compress well.</p><p>Contrarily to incremental backups,
snapshots are truly independant one from another and do not assume the existence of any other snapshot.
It is possible to compare the differences between a snapshot and any other snapshot,
just as it is possible to delete a snapshot without affecting any of the subsequent snapshots:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar on /tmp/foobar rm 21a403b1 976ed175 8271734e 273c9764
</span></span><span style=display:flex><span>$ plakar ls
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  70e1de7a-e410-4ad4-b441-f4f40977232b     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$ plakar on /tmp/foobar pull 70e1de7a:/bin
</span></span><span style=display:flex><span>$ ls bin
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>               csh             echo            ksh             mkdir           rm              sync            zsh
</span></span><span style=display:flex><span>bash            dash            ed              launchctl       mv              rmdir           tcsh
</span></span><span style=display:flex><span>cat             date            expr            link            pax             sh              test
</span></span><span style=display:flex><span>chmod           dd              hostname        ln              ps              sleep           unlink
</span></span><span style=display:flex><span>cp              df              kill            ls              pwd             stty            wait4path
</span></span><span style=display:flex><span>$
</span></span></code></pre></div><h3 id=to-be-continued>To be continued</h3><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/en/quickstart/ title=Quickstart><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/en/commands/ title=Commands style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1727860671></script>
<script src=/js/perfect-scrollbar.min.js?1727860671></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1727860671></script>
<script src=/js/jquery.sticky.js?1727860671></script>
<script src=/js/featherlight.min.js?1727860671></script>
<script src=/js/highlight.pack.js?1727860671></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1727860671></script>
<script src=/js/learn.js?1727860671></script>
<script src=/js/hugo-learn.js?1727860671></script></body></html>