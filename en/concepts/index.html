<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article data-r-output-format=html><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.144.2"><meta name=generator content="Relearn 7.4.1+f1970c100345064760628503a0c0547304514659"><meta name=description content="Concepts This page documents in a very simplified way the concepts used by plakar.
Repositories At the core of plakar are backup repositories.
A backup repository is a storage unit within which backups are stored. You can have one or many different repositories, some encrypted and others not, synchronized one with each other or not, and each backed by a local filesystem, a mounted filesystem, an object storage or even a remote server."><meta name=author content="Gilles CHEHADE"><meta name=twitter:card content="summary"><meta name=twitter:title content="Concepts - docs.plakar.io"><meta name=twitter:description content="Concepts This page documents in a very simplified way the concepts used by plakar.
Repositories At the core of plakar are backup repositories.
A backup repository is a storage unit within which backups are stored. You can have one or many different repositories, some encrypted and others not, synchronized one with each other or not, and each backed by a local filesystem, a mounted filesystem, an object storage or even a remote server."><meta property="og:url" content="https://docs.plakar.io/en/concepts/index.html"><meta property="og:site_name" content="docs.plakar.io"><meta property="og:title" content="Concepts - docs.plakar.io"><meta property="og:description" content="Concepts This page documents in a very simplified way the concepts used by plakar.
Repositories At the core of plakar are backup repositories.
A backup repository is a storage unit within which backups are stored. You can have one or many different repositories, some encrypted and others not, synchronized one with each other or not, and each backed by a local filesystem, a mounted filesystem, an object storage or even a remote server."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta itemprop=name content="Concepts - docs.plakar.io"><meta itemprop=description content="Concepts This page documents in a very simplified way the concepts used by plakar.
Repositories At the core of plakar are backup repositories.
A backup repository is a storage unit within which backups are stored. You can have one or many different repositories, some encrypted and others not, synchronized one with each other or not, and each backed by a local filesystem, a mounted filesystem, an object storage or even a remote server."><meta itemprop=datePublished content="2022-03-13T23:27:47+01:00"><meta itemprop=dateModified content="2022-03-13T23:27:47+01:00"><meta itemprop=wordCount content="463"><title>Concepts - docs.plakar.io</title>
<link href=/en/concepts/index.xml rel=alternate type=application/rss+xml title="Concepts - docs.plakar.io"><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1742292555 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/fonts/fontawesome/css/fontawesome-all.min.css?1742292555 rel=stylesheet></noscript><link href=/css/perfect-scrollbar/perfect-scrollbar.min.css?1742292555 rel=stylesheet><link href=/css/theme.min.css?1742292555 rel=stylesheet><link href=/css/format-html.min.css?1742292555 rel=stylesheet id=R-format-style><link href=/css/auto-complete/auto-complete.min.css?1742292555 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/css/auto-complete/auto-complete.css?1742292555 rel=stylesheet></noscript><script src=/js/auto-complete/auto-complete.min.js?1742292555 defer></script><script src=/js/lunr/lunr.min.js?1742292555 defer></script><script src=/js/lunr/lunr.stemmer.support.min.js?1742292555 defer></script><script src=/js/lunr/lunr.multi.min.js?1742292555 defer></script><script src=/js/lunr/lunr.en.min.js?1742292555 defer></script><script src=/js/search.min.js?1742292555 defer></script><script>window.relearn=window.relearn||{},window.relearn.min=`.min`,window.relearn.relBasePath="../..",window.relearn.relBaseUri="../..",window.relearn.absBaseUri="https://docs.plakar.io",window.relearn.contentLangs=["en"],window.relearn.index_js_url="/searchindex.en.js?1742292555",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.relearn.disableInlineCopyToClipboard=!1,window.relearn.enableBlockCodeWrap=!0,window.relearn.themevariants=["blue"],window.relearn.customvariantname="my-custom-variant",window.relearn.changeVariant=function(e){var t=document.documentElement.dataset.rThemeVariant;window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e),document.documentElement.dataset.rThemeVariant=e,t!=e&&document.dispatchEvent(new CustomEvent("themeVariantLoaded",{detail:{variant:e,oldVariant:t}}))},window.relearn.markVariant=function(){var t=window.localStorage.getItem(window.relearn.absBaseUri+"/variant"),e=document.querySelector("#R-select-variant");e&&(e.value=t)},window.relearn.initVariant=function(){var e=window.localStorage.getItem(window.relearn.absBaseUri+"/variant")??"";e==window.relearn.customvariantname||(!e||!window.relearn.themevariants.includes(e))&&(e=window.relearn.themevariants[0],window.localStorage.setItem(window.relearn.absBaseUri+"/variant",e)),document.documentElement.dataset.rThemeVariant=e},window.relearn.initVariant(),window.relearn.markVariant(),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script></head><body class="mobile-support html" data-url=/en/concepts/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div><div class="topbar-button topbar-button-toc" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title="Table of Contents (CTRL+ALT+t)"><i class="fa-fw fas fa-list-alt"></i></button><div class=topbar-content><div class=topbar-content-wrapper><nav class=TableOfContents><ul><li><a href=#concepts>Concepts</a><ul><li><a href=#repositories>Repositories</a></li><li><a href=#snapshots>Snapshots</a></li></ul></li></ul></nav></div></div></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/en/index.html><span itemprop=name>docs.plakar.io</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Concepts</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/en/quickstart/probabilities/index.html title="One repository is not enough (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/en/commands/index.html title="Commands (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div><div class="topbar-button topbar-button-more" data-content-empty=hide data-width-s=show data-width-m=show data-width-l=show><button class=topbar-control onclick=toggleTopbarFlyout(this) type=button title=More><i class="fa-fw fas fa-ellipsis-v"></i></button><div class=topbar-content><div class=topbar-content-wrapper><div class="topbar-area topbar-area-more" data-area=more></div></div></div></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable concepts" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=concepts>Concepts</h1><h2 id=concepts>Concepts</h2><p>This page documents in a very simplified way the concepts used by plakar.</p><h3 id=repositories>Repositories</h3><p>At the core of <code>plakar</code> are backup repositories.</p><p>A backup repository is a storage unit within which backups are stored.
You can have one or many different repositories,
some encrypted and others not,
synchronized one with each other or not,
and each backed by a local filesystem,
a mounted filesystem,
an object storage or even a remote server.</p><p>They should be considered as locations,
rather than directories:
you point the utility there so it can store snapshots or retrieve data from snapshots.</p><p>The following command will for example create a repository in <code>/tmp/plakar</code>:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar at /tmp/plakar create -no-encryption
</span></span><span style=display:flex><span>$</span></span></code></pre></div><p>While the following command will list the snapshots that are part of that repository:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar at /tmp/foobar ls
</span></span><span style=display:flex><span>$</span></span></code></pre></div><p>None here as the repository was just created and is empty.</p><h3 id=snapshots>Snapshots</h3><p>Repositories are useless without backups.</p><p>The <code>plakar</code> utility creates backups from directories.
It scans their content and builds an internal representation of what&rsquo;s necessary to rebuild an exact copy,
both of the filesystem structure and files,
then records that representation as a versioned snapshot in a repository:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar at /tmp/foobar backup /bin            
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar ls
</span></span><span style=display:flex><span>2022-04-08T21:38:50Z  21a403b1-b022-40dd-95ad-5b78a90360dd     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$</span></span></code></pre></div><p>Snapshots are space efficient as they may contain the same files as other snapshots without having to store their own copies,
creating multiple snapshots of the same directory will consume roughly the size a single copy would consume with a little overhead due to snapshot-specific metadata:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar at /tmp/foobar backup /bin
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar backup /bin
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar backup /bin
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar backup /bin
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar ls
</span></span><span style=display:flex><span>2022-04-08T21:38:50Z  21a403b1-b022-40dd-95ad-5b78a90360dd     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:51Z  976ed175-206a-418d-b960-7d0736d41b46     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:51Z  8271734e-882c-47b4-812a-5bef3455281c     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  273c9764-eae3-4e4f-8bcd-39538b684b49     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  70e1de7a-e410-4ad4-b441-f4f40977232b     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$ du -sh /tmp/foobar
</span></span><span style=display:flex><span>4.0M    /tmp/foobar
</span></span><span style=display:flex><span>$</span></span></code></pre></div><p>In some situations,
such as above,
the space consumed will even be smaller than that of a single snapshot as the snapshot may contain duplicate information itself,
or may compress well.</p><p>Contrarily to incremental backups,
snapshots are truly independent one from another and do not assume the existence of any other snapshot.
It is possible to compare the differences between a snapshot and any other snapshot,
just as it is possible to delete a snapshot without affecting any of the subsequent snapshots:</p><div class="highlight wrap-code" dir=auto><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ plakar at /tmp/foobar rm 21a403b1 976ed175 8271734e 273c9764
</span></span><span style=display:flex><span>$ plakar at
</span></span><span style=display:flex><span>2022-04-08T21:38:52Z  70e1de7a-e410-4ad4-b441-f4f40977232b     <span style=color:#ae81ff>13</span> MB /bin
</span></span><span style=display:flex><span>$ plakar at /tmp/foobar restore 70e1de7a:/bin
</span></span><span style=display:flex><span>$ ls bin
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>               csh             echo            ksh             mkdir           rm              sync            zsh
</span></span><span style=display:flex><span>bash            dash            ed              launchctl       mv              rmdir           tcsh
</span></span><span style=display:flex><span>cat             date            expr            link            pax             sh              test
</span></span><span style=display:flex><span>chmod           dd              hostname        ln              ps              sleep           unlink
</span></span><span style=display:flex><span>cp              df              kill            ls              pwd             stty            wait4path
</span></span><span style=display:flex><span>$</span></span></code></pre></div><footer class=footline><i class='fa-fw fas fa-calendar'></i> Mar 13, 2022</footer></article></div></main></div><aside id=R-sidebar class="default-animation showVisitedLinks"><div id=R-header-topbar class=default-animation></div><div id=R-header-wrapper class=default-animation><div id=R-header class=default-animation><a id=R-logo class=R-default href=/en/index.html><div class=logo-title>docs.plakar.io</div></a></div><search><form action=/en/search/index.html method=get><div class="searchbox default-animation"><button class=search-detail type=submit title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
<label class=a11y-only for=R-search-by>Search</label>
<input data-search-input id=R-search-by name=search-by class=search-by type=search placeholder=Search...>
<button class=search-clear type=button data-search-clear title="Clear search"><i class="fas fa-times" title="Clear search"></i></button></div></form></search></div><div id=R-homelinks class="default-animation homelinks"><ul><li><a class=padding href=/en/index.html><i class="fa-fw fas fa-home"></i> Home</a></li></ul><hr class=padding></div><div id=R-content-wrapper class=highlightable><div id=R-shortcutmenu-home class=R-sidebarmenu><ul class="enlarge morespace collapsible-menu"><li data-nav-id=/en/quickstart/index.html><a class=padding href=/en/quickstart/index.html><b>1. </b>Quickstart<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-d63193e927818b6cb77d9c791ea48a61 class=collapsible-menu></ul></li><li class=active data-nav-id=/en/concepts/index.html><a class=padding href=/en/concepts/index.html><b>2. </b>Concepts<i class="fa-fw fas fa-check read-icon"></i></a></li><li data-nav-id=/en/commands/index.html><a class=padding href=/en/commands/index.html><b>3. </b>Commands<i class="fa-fw fas fa-check read-icon"></i></a><ul id=R-subsections-118e8fa4eebe2c925610d50578ae00e0 class=collapsible-menu></ul></li><li data-nav-id=/en/community/index.html><a class=padding href=/en/community/index.html><b>4. </b>Community<i class="fa-fw fas fa-check read-icon"></i></a></li></ul></div><div class="padding footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showVisitedLinks showFooter"></div><div id=R-menu-footer><hr class="padding default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showLangSwitch showVisitedLinks showFooter"><div id=R-prefooter class="footerLangSwitch footerVariantSwitch footerVisitedLinks showLangSwitch showVisitedLinks"><ul><li id=R-select-language-container class="footerLangSwitch showLangSwitch"><div class="padding menu-control"><i class="fa-fw fas fa-language"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-language>Language</label>
<select id=R-select-language onchange="location=this.querySelector(this.value).dataset.url"><option id=R-select-language-en value=#R-select-language-en data-url=/en/concepts/index.html lang=en selected>English</option></select></div><div class=clear></div></div></li><li id=R-select-variant-container class=footerVariantSwitch><div class="padding menu-control"><i class="fa-fw fas fa-paint-brush"></i>
<span>&nbsp;</span><div class=control-style><label class=a11y-only for=R-select-variant>Theme</label>
<select id=R-select-variant onchange=window.relearn.changeVariant(this.value)><option id=R-select-variant-blue value=blue selected>Blue</option></select></div><div class=clear></div></div><script>window.relearn.markVariant()</script></li><li class="footerVisitedLinks showVisitedLinks"><div class="padding menu-control"><i class="fa-fw fas fa-history"></i>
<span>&nbsp;</span><div class=control-style><button onclick=clearHistory()>Clear History</button></div><div class=clear></div></div></li></ul></div><div id=R-footer class="footerFooter showFooter"><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn title=love><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></div></aside><script src=/js/clipboard/clipboard.min.js?1742292555 defer></script><script src=/js/perfect-scrollbar/perfect-scrollbar.min.js?1742292555 defer></script><script src=/js/theme.min.js?1742292555 defer></script></body></html>